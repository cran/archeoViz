<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>archeoViz. Visualisation, Exploration, and Web Communication of Archaeological Spatial Data</title>


<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">archeoViz. Visualisation, Exploration, and Web Communication of Archaeological Spatial Data</h1>



<p><code>archeoViz</code> is a packaged R Shiny application for the <em>visualisation</em>, <em>exploration</em>, and web <em>communication</em> of archaeological spatial data. It includes interactive 3D and 2D <em>visualisations</em>, can generate <em>cross sections</em> and <em>maps</em> of the remains, and display an interactive <em>timeline</em> of the work made in a site. Simple <em>spatial statistics</em> can be performed (convex hull, regression surfaces, 2D kernel density estimation), as well as <em>exporting data</em> to other online applications for more complex methods. <code>archeoViz</code> can be used locally or deployed on a server, either by allowing the user to load data through the interface or by running the app with a specific data set. The app interface is available in English, French, German, Italian, Portuguese, Romanian, and Spanish. Website: <a href="https://archeoviz.hypotheses.org" class="uri">https://archeoviz.hypotheses.org</a>.</p>
<ul>
<li><a href="#installation"><strong>Installation</strong></a>
<ul>
<li><a href="#local-use">Local Use</a></li>
<li><a href="#remote-use">Remote Use</a></li>
<li><a href="#demonstration">Demonstration</a></li>
</ul></li>
<li><a href="#community-guidelines"><strong>Community Guidelines</strong></a>
<ul>
<li><a href="#reporting-bugs">Reporting Bugs</a></li>
<li><a href="#suggesting-changes">Suggesting Changes</a></li>
<li><a href="#translation">Translation</a></li>
</ul></li>
<li><a href="#use"><strong>Use</strong></a>
<ul>
<li><a href="#spatial-information-in-archeoviz">Spatial Information in archeoViz</a>
<ul>
<li><a href="#points-exact-location-plotted-objects">Points, Exact Location: Plotted Objects</a></li>
<li><a href="#points-vague-location-spits-buckets-sieved-objects-and-recording-errors">Points, Vague Location: Spits, Buckets, Sieved Objects, and Recording Errors</a></li>
<li><a href="#lines">Lines</a></li>
<li><a href="#surfaces">Surfaces</a></li>
</ul></li>
<li><a href="#refittings-and-fabric-measurements">Refittings and Fabric Measurements</a>
<ul>
<li><a href="#refittings">Refittings</a></li>
<li><a href="#fabric-measurements">Fabric Measurements</a><br />
</li>
</ul></li>
<li><a href="#data-format">Data Format</a>
<ul>
<li><a href="#formatting-data">Formatting Data</a></li>
<li><a href="#objects-table">Objects Table</a></li>
<li><a href="#refitting-table">Refitting Table</a></li>
<li><a href="#timeline-table">Timeline Table</a></li>
</ul></li>
<li><a href="#data-input">Data Input</a>
<ul>
<li><a href="#through-the-application-interface">Through the Application Interface</a></li>
<li><a href="#through-the-r-function-parameters">Through the R Function Parameters</a></li>
<li><a href="#through-url-parameters">Through URL Parameters</a></li>
<li><a href="#generating-random-data">Generating Random Data</a></li>
<li><a href="#rotating-the-points">Rotating the points</a></li>
</ul></li>
<li><a href="#data-sub-setting">Data sub-setting</a>
<ul>
<li><a href="#by-location-mode">By Location Mode</a></li>
<li><a href="#by-objects-category">By Layer or Object Category</a></li>
</ul></li>
<li><a href="#interactive-visualisation">Interactive Visualisation</a>
<ul>
<li><a href="#general-features">General Features</a></li>
<li><a href="#visualising-spatial-uncertainty">Visualising Spatial Uncertainty</a></li>
<li><a href="#graphical-outputs">Graphical Outputs</a></li>
</ul></li>
<li><a href="#spatial-statistics">Spatial Statistics</a>
<ul>
<li><a href="#regression-surfaces">Regression Surfaces</a></li>
<li><a href="#convex-hulls">Convex Hulls</a></li>
<li><a href="#2d-kernel-density">2D Kernel Density</a></li>
</ul></li>
</ul></li>
<li><a href="#reproducibility"><strong>Reproducibility</strong></a></li>
<li><a href="#exports-from-and-to-third-party-applications"><strong>Exports from and to Third-party Applications</strong></a>
<ul>
<li><a href="#export-from-archeoviz">Export from archeoViz</a></li>
<li><a href="#import-to-archeoviz">Import to archeoViz</a></li>
</ul></li>
<li><a href="#advanced-parameters"><strong>Advanced Parameters</strong></a>
<ul>
<li><a href="#square-grid">Square Grid</a></li>
<li><a href="#parameter-presetting">Parameter Presetting</a></li>
<li><a href="#reactive-plot-display">Reactive Plot Display</a></li>
<li><a href="#control-export-formats">Control Export Formats</a></li>
<li><a href="#url-parameters">URL parameters</a></li>
</ul></li>
<li><a href="#acknowledgments"><strong>Acknowledgments</strong></a></li>
<li><a href="#references"><strong>References</strong></a>
<ul>
<li><a href="#Software">Software</a></li>
<li><a href="#papers">Papers</a></li>
<li><a href="#presentations">Presentations</a></li>
<li><a href="#websites">Websites</a></li>
</ul></li>
</ul>
<div id="installation" class="section level1">
<h1>Installation</h1>
<p><code>archeoViz</code> can be used in two ways:</p>
<ul>
<li>locally, on the user’s machine</li>
<li>remotely, after deploying the app on a distant server</li>
</ul>
<div id="local-use" class="section level2">
<h2>Local use</h2>
<p>The package can be installed from CRAN with:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">install.packages</span>(<span class="st">&quot;archeoViz&quot;</span>)</a></code></pre></div>
<p>The development version is available on <em>GitHub</em> and can be installed with:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="co"># install.packages(&quot;devtools&quot;)</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2">devtools<span class="op">::</span><span class="kw">install_github</span>(<span class="st">&quot;sebastien-plutniak/archeoviz&quot;</span>)</a></code></pre></div>
<p>Then, load the package and launch the app with:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw">library</span>(archeoViz)</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="kw">archeoViz</span>()</a></code></pre></div>
</div>
<div id="remote-use" class="section level2">
<h2>Remote use</h2>
<p>To deploy <code>archeoViz</code> on your Shiny server, first download and unzip the package:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="co"># set the working directory on your shiny server:</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="kw">setwd</span>(<span class="dt">dir =</span> <span class="st">&quot;/some/path/&quot;</span>)</a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="co"># download the package:</span></a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="kw">download.file</span>(</a>
<a class="sourceLine" id="cb4-5" data-line-number="5">  <span class="dt">url =</span> <span class="st">&quot;https://github.com/sebastien-plutniak/archeoviz/archive/master.zip&quot;</span>,</a>
<a class="sourceLine" id="cb4-6" data-line-number="6">  <span class="dt">destfile =</span> <span class="st">&quot;archeoviz.zip&quot;</span>)</a>
<a class="sourceLine" id="cb4-7" data-line-number="7"><span class="co"># unzip it:</span></a>
<a class="sourceLine" id="cb4-8" data-line-number="8"><span class="kw">unzip</span>(<span class="dt">zipfile =</span> <span class="st">&quot;archeoviz.zip&quot;</span>)</a></code></pre></div>
<p>Then, go to <code>https://&lt;your-shiny-server&gt;/archeoviz-main</code>.</p>
<p>To set the app with your data and preferences, edit the app.R file, located at the root of the directory:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw">archeoViz</span>(<span class="dt">objects.df =</span> <span class="ot">NULL</span>,   <span class="co"># data.frame with data about the objects</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2">          <span class="dt">refits.df =</span> <span class="ot">NULL</span>,    <span class="co"># optional data.frame for refitting data</span></a>
<a class="sourceLine" id="cb5-3" data-line-number="3">          <span class="dt">timeline.df =</span> <span class="ot">NULL</span>,  <span class="co"># optional data.frame for the excavation timeline</span></a>
<a class="sourceLine" id="cb5-4" data-line-number="4">          <span class="dt">title =</span> <span class="ot">NULL</span>,        <span class="co"># title of the site / data set</span></a>
<a class="sourceLine" id="cb5-5" data-line-number="5">          <span class="dt">home.text =</span> <span class="ot">NULL</span>,    <span class="co"># HTML content to display on the home page</span></a>
<a class="sourceLine" id="cb5-6" data-line-number="6">          <span class="dt">lang =</span> <span class="st">&quot;en&quot;</span>          <span class="co"># interface language (&quot;de&quot;: German, &quot;en&quot;: English, &quot;fr&quot;: French, &quot;it&quot;: Italian, &quot;pt&quot;: Portuguese, &quot;es&quot;: Spanish)</span></a>
<a class="sourceLine" id="cb5-7" data-line-number="7">          <span class="dt">set.theme =</span> <span class="st">&quot;cosmo&quot;</span>) <span class="co"># graphic theme for the Shiny interface</span></a></code></pre></div>
<p>The possible values for the <code>set.theme</code> parameter are illustrated on <a href="https://rstudio.github.io/shinythemes/">this page</a>. The language of the application can be set with the <code>lang</code> parameter.</p>
</div>
<div id="demonstration" class="section level2">
<h2>Demonstration</h2>
<p>Demonstration instances of the application are deployed on the <em>Huma Num</em> Shiny server:</p>
<ul>
<li><a href="https://analytics.huma-num.fr/archeoviz/de"><code>archeoViz</code> in German</a>.</li>
<li><a href="https://analytics.huma-num.fr/archeoviz/en"><code>archeoViz</code> in English</a>.</li>
<li><a href="https://analytics.huma-num.fr/archeoviz/fr"><code>archeoViz</code> in French</a>.</li>
<li><a href="https://analytics.huma-num.fr/archeoviz/es"><code>archeoViz</code> in Spanish</a>.</li>
<li><a href="https://analytics.huma-num.fr/archeoviz/it"><code>archeoViz</code> in Italian</a>.</li>
<li><a href="https://analytics.huma-num.fr/archeoviz/pt"><code>archeoViz</code> in Portuguese</a>.</li>
<li><a href="https://analytics.huma-num.fr/archeoviz/ro"><code>archeoViz</code> in Romanian</a>.</li>
</ul>
<p>Real use cases are presented on the <a href="https://analytics.huma-num.fr/archeoviz/home"><em>archeoViz Portal</em></a>.</p>
</div>
</div>
<div id="community-guidelines" class="section level1">
<h1>Community guidelines</h1>
<div id="reporting-bugs" class="section level2">
<h2>Reporting bugs</h2>
<p>If you encounter a bug, please fill an <a href="https://github.com/sebastien-plutniak/archeoviz/issues">issue</a> with all the details needed to reproduce it.</p>
</div>
<div id="suggesting-changes" class="section level2">
<h2>Suggesting changes</h2>
<p>Suggestions of changes to <code>archeoViz</code> are welcome. These requests may concern additional functions, changes to documentation, additional examples, new features, etc. They can be made by filling an <a href="https://github.com/sebastien-plutniak/archeoviz/issues">issue</a> and, even better, using pull requests and the <a href="https://docs.github.com/articles/about-pull-requests">GitHub Fork and Pull model</a>.</p>
</div>
<div id="translation" class="section level2">
<h2>Translation</h2>
<p>In the development of <code>archeoViz</code>, particular attention is paid to multilingualism. The application interface is available in several languages and translations into additional languages are welcome. To do so, please edit this <a href="https://github.com/sebastien-plutniak/archeoviz/blob/main/R/load_interface_terms_utf8.R">file</a> and submit a pull request.</p>
</div>
</div>
<div id="use" class="section level1">
<h1>Use</h1>
<p>Having archaeological remains from a given site, <code>archeoViz</code> is designed to lower the technical barriers to fulfill three objectives:</p>
<ul>
<li>basic spatial exploration and generation of simple graphical reports;</li>
<li>fast pre-publication of archaeological data, intended for the scientific community;</li>
<li>fast deployment of a visualisation and communication tool intended for a broader audience.</li>
</ul>
<p>In addition, <code>archeoViz</code> is a suitable pedagogical resource for teaching spatial analysis in archaeology, data structuring, open science, and reproducible workflow.</p>
<p>N.B.: consequently, <code>archeoViz</code> is not intended to replace more sophisticated analysis tools (e.g., GIS, statistical packages, etc.)</p>
<div id="spatial-information-in-archeoviz" class="section level2">
<h2>Spatial Information in archeoViz</h2>
<p>Archaeologists record the location of archaeological objects at different scales and granularity. Accordingly, they use different geometrical concepts to represent location.</p>
<div id="points-exact-location-plotted-objects" class="section level3">
<h3>Points, Exact Location: Plotted Objects</h3>
<p>Using grid coordinates or electronic “total station” enables recording the individual location of objects on the field. In that case, the location are represented as points in <code>archeoViz</code> (triplets of x, y and z coordinates).</p>
</div>
<div id="points-vague-location-spits-buckets-sieved-objects-and-recording-errors" class="section level3">
<h3>Points, Vague Location: Spits, Buckets, Sieved Objects, and Recording Errors</h3>
<p>However, it is also common that x, y, z, coordinates by object are not available, for different reasons due to:</p>
<ul>
<li>recording errors, loss of information, resulting in the need to replace one of several coordinates values by ranges (e.g., a X value is missing for an object and is replaced by the minimal and maximal X values of the square where this object was found);</li>
<li>choice of method (e.g., excavation made and recorded using spits of arbitrary depth, sieved objects, etc.).</li>
</ul>
<p>In all these cases, we have to deal with vague location, when objects cannot be located as points but are somewhere between ranges of coordinates. Vague location can concern one, two, or the three spatial dimensions (the x, y, z coordinates, respectively).</p>
<p>Note that this feature can also be used to deal with the imprecision of topographical instruments.</p>
</div>
<div id="lines" class="section level3">
<h3>Lines</h3>
<p>Lines are useful geometries for representing relationships. In archaeology, these can be <a href="#reffitings">refitting</a> relationships between object fragments, orientation (<a href="#fabric-measurements">fabric measurements</a>, etc. Lines are generated from data loaded as refitting data, either from the “Data” tab, or with the <code>refits.df</code> parameter of the <code>archeoViz()</code> function.</p>
</div>
<div id="surfaces" class="section level3">
<h3>Surfaces</h3>
<p>Surfaces are useful geometries for representing ground levels, trenches, pits, etc. In <code>archeoViz</code>, this can be achieved by defining a subset of points summarising the desired surface, then displaying the <a href="#convex-hulls">convex hull</a> of this subset.</p>
</div>
</div>
<div id="refittings-and-fabric-measurements" class="section level2">
<h2>Refittings and Fabric Measurements</h2>
<div id="refittings" class="section level3">
<h3>Refittings</h3>
<p>Refittings are usually recorded by archaeologists in two ways:</p>
<ol style="list-style-type: decimal">
<li>by sets of refitting objects: using a two columns table, where a row corresponds to an <strong>object</strong>. The first column stores the object’s unique id and the second column stores the id of the set of refitting objects this object belongs to.</li>
<li>by refitting relationships: using a two columns table, where a row corresponds to a <strong>relationship</strong>. The first column stores the first object’s unique id and the second column stores the second object’s unique id.</li>
</ol>
<p>Although the second data structure is more accurate, the first is more commonly used.</p>
<p><code>archeoViz</code> processes and represents the two data structures in two ways:</p>
<ul>
<li>sets of refitting objects must be described using a specific column in the <code>objects.df</code> table (e.g. <code>object_refits</code>) and are represented by the color of points in the plots (like any other variable);</li>
<li>refitting relationships must be described using the <code>refits.df</code> table and are visualised as segments connecting the refitting objects in the plots.</li>
</ul>
</div>
<div id="fabric-measurements" class="section level3">
<h3>Fabric Measurements</h3>
<p>So far, <code>archeoViz</code> does not handle fabric measurements properly. However, the process used to represent refittings can also adapted and used to represent fabric measurements. This requires to distort the data structure as follows:</p>
<ul>
<li>assuming that fabric measurements were recorded with two measurements on each object (and not with dip and plunge measurements),</li>
<li>different unique <code>id</code> values must be given to the two points, and</li>
<li>the two measures are processed as if they were two refitting objects.</li>
</ul>
<p>See an example of this method <a href="https://analytics.huma-num.fr/archeoviz/shuidonggou2">here</a>.</p>
</div>
</div>
<div id="data-format" class="section level2">
<h2>Data Format</h2>
<p>Three types of data can be loaded in <code>archeoViz</code>:</p>
<ul>
<li>an “objects” table (mandatory), with data about the objects;</li>
<li>a “refits” table (optional), with data about the refitting objects;</li>
<li>a “timeline” table (optional), with data about when each square of the site was excavated or surveyed.</li>
</ul>
<div id="formatting-data" class="section level3">
<h3>Formatting Data</h3>
<p>The tables must be CSV files with the first row containing the column labels. Contents in HTML are allowed. This makes it possible, in particular, to add links to external resources (e.g., to objects permanent identifier in other databases, or to concepts identifiers in standard ontologies / thesauri, etc.).</p>
<p>Formatting your data can be done:</p>
<ul>
<li>either using a spreadsheet editor on your machine to generate CSV files;</li>
<li>or, for the <code>objects table,</code> using the <a href="https://aurelienroyer.shinyapps.io/Seahors/"><em>SEAHORS</em></a> application to load your data, define the variables (in the “Load data” tab), and export it to the <code>archeoViz</code> format (in the “Table” / “archeoViz exports” tab). It is also possible to directly send the data to an online <code>archeoViz</code> instance.</li>
</ul>
</div>
<div id="objects-table" class="section level3">
<h3>Objects Table</h3>
<p>A row describes a single object with the following mandatory fields:</p>
<ul>
<li><strong>id</strong>: <em>alphanumerical value</em>, unique identifier of the object</li>
<li><strong>xmin</strong>: <em>numerical value</em>, coordinate of the object on the X axis (in cm)</li>
<li><strong>ymin</strong>: <em>numerical value</em>, coordinate of the object on the Y axis (in cm)</li>
<li><strong>zmin</strong>: <em>numerical value</em>, coordinate of the object on the Z axis (positive depth value in cm)</li>
<li><strong>layer</strong>: <em>alphanumerical value</em>, identifier of the object’s layer</li>
<li><strong>object_type</strong>: <em>alphanumerical value</em>, category of the object</li>
</ul>
<p>In addition, optional fields are possible, including:</p>
<ul>
<li><strong>square_x</strong>: <em>alphanumerical value</em>, identifier of the square on the X axis</li>
<li><strong>square_y</strong>: <em>alphanumerical value</em>, identifier of the square on the Y axis</li>
<li><strong>year</strong> : <em>numerical value</em>, year when the object was excavated</li>
<li><strong>xmax</strong>: <em>numerical value</em>, when the X location of the object is included in a range of X coordinates</li>
<li><strong>ymax</strong>: <em>numerical value</em>, when the Y location of the object is included in a range of Y coordinates</li>
<li><strong>zmax</strong>: <em>numerical value</em>, when the Z location of the object is included in a range of Z coordinates</li>
<li><strong>object_edit</strong>: unlimited number of additional variables describing the object (field names must start with <code>object_</code> and have different suffixes)</li>
</ul>
<p>The labels of the squares of the grid:</p>
<ul>
<li>are ordered alpha-numerically;</li>
<li>are not displayed to avoid erroneous displays, if the number of labels does not correspond exactly to the total number of 100 cm squares that can be defined in the range of minimum and maximum coordinates contained in the xmin and ymin variables;</li>
<li>can be completed with the <code>add.x.square.labels</code> and <code>add.y.square.labels</code> parameters of the <code>archeoViz()</code> function in order to add the missing labels (on the X and Y axes of the grid, respectively).</li>
</ul>
</div>
<div id="refitting-table" class="section level3">
<h3>Refitting Table</h3>
<p>A data table with two columns can be uploaded for refitting data (CSV format). Each row must contain the unique identifiers of two refitting objects (corresponding to the values of the <code>id</code> column in the objects table).</p>
</div>
<div id="timeline-table" class="section level3">
<h3>Timeline Table</h3>
<p>A table (CSV format) can be uploaded about excavation history. Row gives the year when each grid square of the site was excavated or surveyed. This table must include the following variables:</p>
<ul>
<li><strong>year</strong>: numerical value, the year of excavation</li>
<li><strong>square_x</strong>: alphanumerical value, identifier of the excavated square on the X axis</li>
<li><strong>square_y</strong>: alphanumerical value, identifier of the excavated square on the Y axis</li>
</ul>
</div>
</div>
<div id="data-input" class="section level2">
<h2>Data Input</h2>
<p>There are four ways to input data in <code>archeoViz</code>:</p>
<ol style="list-style-type: decimal">
<li>uploading data tables through the “Input data” tab,</li>
<li>loading data tables through the <code>archeoViz</code> function’s parameters, in the R interface;</li>
<li>uploading data tables through URL parameters, when using an online instance of <code>archeoViz</code>.</li>
<li>generating random data in the “Input data” tab;</li>
</ol>
<div id="through-the-application-interface" class="section level3">
<h3>Through the Application Interface</h3>
<p>The three types of tables can be loaded in the “Input data” tab. The CSV separator (one of: comma, semicolon, tabulation) and the character used for decimal points (period or comma).</p>
</div>
<div id="through-url-parameters" class="section level3">
<h3>Through URL parameters</h3>
<p>The URL of an online instance of <code>archeoViz</code> can include the parameters:</p>
<ul>
<li><code>objects.df=</code></li>
<li><code>refits.df=</code></li>
<li><code>timeline.df=</code></li>
</ul>
<p>whose values must be the URL of a CSV file observing the <code>archeoViz</code> format described above. For example: <a href="https://analytics.huma-num.fr/archeoviz/en/?objects.df=https://zenodo.org/record/8003880/files/bilzingsleben.csv" class="uri">https://analytics.huma-num.fr/archeoviz/en/?objects.df=https://zenodo.org/record/8003880/files/bilzingsleben.csv</a></p>
</div>
<div id="generating-random-data" class="section level3">
<h3>Generating Random Data</h3>
<p>Using randomly generated data is made possible for demonstration purposes. To activate this feature, set the slider in “Input data” to a value higher than 0 (setting the value back to 0 deactivates the feature). An “objects” data set, a “refits” data set, and a “timeline” data set are generated, making it possible to test all the <code>archeoViz</code> functionalities.</p>
</div>
<div id="through-the-r-function-parameters" class="section level3">
<h3>Through the R function parameters</h3>
<p><code>archeoViz</code>’s launching function (<code>archeoViz()</code>) can be run without parameter</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw">archeoViz</span>()</a></code></pre></div>
<p>or by using the <code>objects.df</code>, <code>refits.df</code>, or <code>timeline.df</code> parameters to input data.frames about the archaeological objects, refitting relationships between these objects, and the chronology of the excavation, respectively.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="kw">archeoViz</span>(<span class="dt">objects.df =</span> <span class="ot">NULL</span>,  <span class="co"># data.frame with data about the objects</span></a>
<a class="sourceLine" id="cb7-2" data-line-number="2">          <span class="dt">refits.df =</span> <span class="ot">NULL</span>,   <span class="co"># data.frame for refitting objects</span></a>
<a class="sourceLine" id="cb7-3" data-line-number="3">          <span class="dt">timeline.df =</span> <span class="ot">NULL</span>) <span class="co"># optional data.frame for the excavation timeline</span></a></code></pre></div>
</div>
<div id="rotating-the-points" class="section level3">
<h3>Rotating the points</h3>
<p>You can change the orientation of the points in the plan. In the “Data” tab, select a value (in degrees) and click on the “Validate selection” button to confirm.</p>
</div>
</div>
<div id="data-sub-setting" class="section level2">
<h2>Data Sub-setting</h2>
<p>Once data are loaded, a sub-selection of the data can be done in the left side menu. Grouping can be done by crossing the following parameters: the mode of location, the layers, and the category of object.</p>
<div id="by-location-mode" class="section level3">
<h3>By Location Mode</h3>
<p>If all the objects have exact location or vague location, then no option is proposed. However, if the dataset includes both exact and vague location, then it is possible to select only one or both of these options.</p>
</div>
<div id="by-layer-or-object-category" class="section level3">
<h3>By Layer or Object Category</h3>
<p>The data can be grouped in two ways: either based on their layer or on the selected “object_” variable. This option determines the colours of the points in the 3D and 2D plots and how to group points when computing convex hulls and 3D regression surfaces. Sub-sets can be defined by object categories, using the “variable” and “values” fields. Once one of the “object_type” (or other possible “object_” variables) is selected, its values appear below and can be selected using the tick boxes. The selection must be validated by clicking on the “Validate” button. This selection determines the data to be displayed in the plots and tables.</p>
</div>
</div>
<div id="interactive-visualisation" class="section level2">
<h2>Interactive visualisation</h2>
<div id="general-features" class="section level3">
<h3>General features</h3>
<p>The plots in the “3D plot”, “Map”, “Section X”, and “Section Y” tabs are generated using the <a href="https://CRAN.R-project.org/package=plotly"><code>plotly</code></a> library. All the plots are dynamic and include a menu bar above the plot with several options (generating an image file, zooming, moving the view, etc). See details on the <a href="http://plotly.github.io/getting-to-know-the-plotly-modebar/"><code>plotly</code> website</a>.</p>
<p>Clicking on a legend’s item modifies the display:</p>
<ul>
<li>a simple click on an item activates/deactivates its display;</li>
<li>a double click on an item displays this item only (another double click cancels it).</li>
</ul>
<p>This feature makes it possible to choose which layers are shown. In addition, the size of the points can be set and whether the refitting relationships must be represented or not.</p>
<p>Finally, clicking on a point displays information about that point in the table below the plot.</p>
</div>
<div id="visualising-spatial-uncertainty" class="section level3">
<h3>Visualising Spatial Uncertainty</h3>
<p>In <code>archeoViz</code>, a distinction is made between exact location (given as x, y, z coordinates) and vague locations (given as ranges of coordinates). Both types of locations can be displayed. The uncertainty of vague locations can be visualised by representing objects not as points but as lines, planes, and volumes (if ranges of coordinates are given for one, two, or three spatial dimensions, respectively). Note that this feature is resource intensive and using it with too much data can significantly slow down the application.</p>
</div>
<div id="graphical-outputs" class="section level3">
<h3>Graphical outputs</h3>
<p>Several graphical outputs can be generated in <code>archeoViz</code>.</p>
<ul>
<li>The plots in the “3D plot”, “Map”, “Section X”, and “Section Y” tabs can be exported:
<ul>
<li>in SVG format (by clicking on the “camera” icon in the menu bar above the plot),</li>
<li>as interactive plots in HTML format, by clicking on the “Export” button.</li>
</ul></li>
<li>The small map in the “Section X” and “Section Y” tabs can be exported in SVG by clicking on the “Download Map” link.</li>
<li>The plan of the excavation chronology can be exported in SVG format by clicking on the “Download” button.</li>
</ul>
</div>
</div>
<div id="spatial-statistics" class="section level2">
<h2>Spatial statistics</h2>
<p><code>archeoViz</code> includes some spatial analysis functionalities, intended for basic and exploratory use.</p>
<div id="regression-surfaces" class="section level3">
<h3>Regression surfaces</h3>
<p>In the “3D plot” tab, clicking on “Compute surfaces” and “Validate” displays the regression surface associated with each layer (with at least 100 points). The surfaces are computed using the generalized additive model implemented in the <a href="https://CRAN.R-project.org/package=mgcv"><code>mgcv</code></a> package.</p>
</div>
<div id="convex-hulls" class="section level3">
<h3>Convex hulls</h3>
<p>In the “3D plot” tab, convex hulls can be displayed as follows:</p>
<ol style="list-style-type: decimal">
<li>tick the “Convex hulls” box,</li>
<li>select, from the menu that appears, the subsets of points for which convex hulls are to be calculated,</li>
<li>click on “Validate”.</li>
</ol>
<p>Convex hulls associated with each subsets with at least 20 points are displayed. The convex hulls are computed using the <a href="https://CRAN.R-project.org/package=cxhull"><code>cxhull</code></a> package.</p>
</div>
<div id="d-kernel-density" class="section level3">
<h3>2D kernel density</h3>
<p>In the “Map” tab, ticking the “Compute density” box and clicking on “Validate” generates a map with contour lines showing the points’ density. Density can be computed for all the points together or by layer (with at least 30 points). The 2D kernel density is computed with the <code>kde2d</code> function of the <a href="https://CRAN.R-project.org/package=MASS"><code>MASS</code></a> package (through <a href="https://CRAN.R-project.org/package=ggplot2"><code>ggplot2</code></a>).</p>
</div>
</div>
<div id="reproducibility" class="section level2">
<h2>Reproducibility</h2>
<p><code>archeoViz</code> is, by definition, an interactive application. However, several features guarantee the reproducibility and communicability of the result of interactions with the application.</p>
<ul>
<li>The 3D visualisation can be exported in an interactive HTML standalone format, considering the data selection made by the user.</li>
<li>In the “Reproducibility” tab, an R command is dynamically generated, considering the current application settings made by the user.</li>
<li>In a more advanced use, the URL parameters makes it possible to set an online instance of the application parameters of interest and to communicate it by sending the URL.</li>
</ul>
</div>
<div id="exports-from-and-to-third-party-applications" class="section level2">
<h2>Exports from and to Third-party Applications</h2>
<p><code>archeoViz</code> was designed as one of the building blocks of a decentralised digital ecosystem for archaeological data and analysis. In this perspective, features and functions are distributed in multiple interconnected applications, rather than concentrated into few systems. Consequently, data can be exported and imported between <code>archeoViz</code> and other web-based applications. Note that, so far, the export functionalities are only available when using online <code>archeoViz</code> instances.</p>
<div id="export-from-archeoviz" class="section level3">
<h3>Export from archeoViz</h3>
<p>Data can be exported to other online applications from <code>archeoViz</code> “Statistics” tab. Some exports are possible only for specific types of data or if a minimum number of values is satisfied.</p>
<p><a href="https://analytics.huma-num.fr/Sebastien.Plutniak/archeofrag"><em>archeofrag</em></a> is an R package and web application to assess and evaluate the distinctions betwen archaeological spatial units (e.g. layers) based on the analysis of refitting relationships between fragments of objects. The web version of the application includes methods to measure the cohesion and admixture of spatial units, and compare it to simulated data. If an instance of <code>archeoViz</code> is launched with <a href="#refittings">refitting data</a>, then this data can be analysed with <code>archeofrag</code>. See an example <a href="https://analytics.huma-num.fr/archeoviz/grotte16">here</a>.</p>
<p>The <a href="https://analytics.huma-num.fr/ModAthom/seriograph/"><em>Seriograph</em></a> is a web application (part of the <a href="https://spartaas.gitpages.huma-num.fr/r-package/">SPARTAAS</a> collection) to visualise changes in the quantitative distribution of artefacts types in ordered or unordered series of spatial units. If an online instance of <code>archeoViz</code> is launched with a data set with at least 2 different values for the <code>layers</code> variable and 2 different values for the <code>object_type</code> variable, then this data can be analysed with the <code>Seriograph</code> application. See an example <a href="https://analytics.huma-num.fr/archeoviz/poeymau">here</a>.</p>
<p><a href="https://app.ptm.huma-num.fr/amado/"><em>Amado online</em></a> is an on-line application for analyzing contingency tables. It is possible to export a table cross-referencing the values of the selected variable (by default, <code>object_type</code>) and the values of the variable <code>layer</code>. <code>Amado</code> allows you to manually reorder rows and columns, and perform automatic seriations and classifications. See an example <a href="https://analytics.huma-num.fr/archeoviz/tai">here</a>.</p>
<p><a href="https://cran.r-project.org/package=explor"><em>explor</em></a> is an R Shiny / R package application for interactively exploring the results of multi-dimensional analyses. <code>explor</code> has been adapted to run a Correspondence analysis on a contingency table intersecting the values of the selected variable (by default, <code>object_type</code>) and the values of the variable <code>layer</code>. See an example <a href="https://analytics.huma-num.fr/archeoviz/tai">here</a>.</p>
</div>
<div id="import-to-archeoviz" class="section level3">
<h3>Import to archeoViz</h3>
<p><a href="https://aurelienroyer.shinyapps.io/Seahors/"><em>SEAHORS</em></a> is a web application and R package to visualise the spatial distribution of archaeological remains. As mentioned <a href="#formatting-data">above</a>, SEAHORS can be used to import, reshape, and send a data set to an online instance of the <code>archeoViz</code> application.</p>
</div>
</div>
<div id="advanced-parameters" class="section level2">
<h2>Advanced parameters</h2>
<p>The <code>archeoViz()</code> function can be set with multiple optional parameters, related to:</p>
<ul>
<li>the input data (already detailed <a href="#through-function-parameters">above</a>),</li>
<li>the contents of the home page (already detailed <a href="#deployed-use">above</a>),</li>
<li>the <a href="#square-grid">square grid</a>,</li>
<li>the <a href="#parameters-presetting">presetting</a> of the parameters that can be set through the application’s interface,</li>
<li>the <a href="#reactive-plot-display">reactive behavior</a> of the application regarding the generation of plots,</li>
<li>the <a href="#html-export">HTML export</a>,</li>
<li>the <a href="#url-parameters">URL parameters</a>.</li>
</ul>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw">archeoViz</span>(<span class="dt">objects.df=</span><span class="ot">NULL</span>, <span class="dt">refits.df=</span><span class="ot">NULL</span>, <span class="dt">timeline.df=</span><span class="ot">NULL</span>,</a>
<a class="sourceLine" id="cb8-2" data-line-number="2">          <span class="dt">title=</span><span class="ot">NULL</span>, <span class="dt">home.text=</span><span class="ot">NULL</span>, <span class="dt">lang=</span><span class="st">&quot;en&quot;</span>, <span class="dt">set.theme=</span><span class="st">&quot;cosmo&quot;</span>,</a>
<a class="sourceLine" id="cb8-3" data-line-number="3">          <span class="dt">square.size =</span> <span class="dv">100</span>, <span class="dt">rotation =</span> <span class="dv">0</span>, <span class="dt">grid.orientation =</span> <span class="ot">NULL</span>,</a>
<a class="sourceLine" id="cb8-4" data-line-number="4">          <span class="dt">reverse.axis.values =</span> <span class="ot">NULL</span>, <span class="dt">reverse.square.names =</span> <span class="ot">NULL</span>,</a>
<a class="sourceLine" id="cb8-5" data-line-number="5">          <span class="dt">add.x.square.labels =</span> <span class="ot">NULL</span>, <span class="dt">add.y.square.labels =</span> <span class="ot">NULL</span>,</a>
<a class="sourceLine" id="cb8-6" data-line-number="6">          <span class="dt">class.variable =</span> <span class="ot">NULL</span>, <span class="dt">class.values =</span> <span class="ot">NULL</span>,</a>
<a class="sourceLine" id="cb8-7" data-line-number="7">          <span class="dt">default.group =</span> <span class="st">&quot;by.layer&quot;</span>, <span class="dt">location.mode =</span> <span class="ot">NULL</span>,</a>
<a class="sourceLine" id="cb8-8" data-line-number="8">          <span class="dt">map.z.val =</span> <span class="ot">NULL</span>, <span class="dt">map.density =</span> <span class="st">&quot;no&quot;</span>, <span class="dt">map.refits =</span> <span class="ot">NULL</span>,</a>
<a class="sourceLine" id="cb8-9" data-line-number="9">          <span class="dt">plot3d.ratio =</span> <span class="dv">1</span>, <span class="dt">plot3d.hulls =</span> <span class="ot">FALSE</span>, <span class="dt">hulls.class.values =</span> <span class="ot">NULL</span>,</a>
<a class="sourceLine" id="cb8-10" data-line-number="10">          <span class="dt">plot3d.surfaces =</span> <span class="ot">NULL</span>, <span class="dt">plot3d.refits =</span> <span class="ot">NULL</span>, <span class="dt">point.size =</span> <span class="dv">2</span>,</a>
<a class="sourceLine" id="cb8-11" data-line-number="11">          <span class="dt">sectionX.x.val =</span> <span class="ot">NULL</span>, <span class="dt">sectionX.y.val =</span> <span class="ot">NULL</span>, <span class="dt">sectionX.refits =</span> <span class="ot">NULL</span>, </a>
<a class="sourceLine" id="cb8-12" data-line-number="12">          <span class="dt">sectionY.x.val =</span> <span class="ot">NULL</span>, <span class="dt">sectionY.y.val =</span> <span class="ot">NULL</span>, <span class="dt">sectionY.refits =</span> <span class="ot">NULL</span>,</a>
<a class="sourceLine" id="cb8-13" data-line-number="13">          <span class="dt">camera.center =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>), <span class="dt">camera.eye =</span> <span class="kw">c</span>(<span class="fl">1.25</span>, <span class="fl">1.25</span>, <span class="fl">1.25</span>),</a>
<a class="sourceLine" id="cb8-14" data-line-number="14">          <span class="dt">run.plots =</span> <span class="ot">FALSE</span>, <span class="dt">html.export =</span> <span class="ot">TRUE</span>, <span class="dt">table.export =</span> <span class="ot">TRUE</span></a>
<a class="sourceLine" id="cb8-15" data-line-number="15">          )</a></code></pre></div>
<div id="square-grid" class="section level3">
<h3>Square grid</h3>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="kw">archeoViz</span>(<span class="dt">square.size =</span> <span class="dv">100</span>,</a>
<a class="sourceLine" id="cb9-2" data-line-number="2">          <span class="dt">reverse.axis.values =</span> <span class="ot">NULL</span>, <span class="dt">reverse.square.names =</span> <span class="ot">NULL</span>,</a>
<a class="sourceLine" id="cb9-3" data-line-number="3">          <span class="dt">add.x.square.labels =</span> <span class="ot">NULL</span>, <span class="dt">add.y.square.labels =</span> <span class="ot">NULL</span></a>
<a class="sourceLine" id="cb9-4" data-line-number="4">          )</a></code></pre></div>
<ul>
<li><strong>square.size</strong>: numerical. Size (width and height) in centimeter of the squares in the grid system. Default value is 100 cm.</li>
<li><strong>rotation</strong> : integer. Value (degrees) for the in-plane rotation of the point cloud.</li>
<li><strong>grid.orientation</strong> : numerical. Orientation (degrees, positive or negative) of the grid (0 corresponds to a north orientation).</li>
<li><strong>reverse.axis.values</strong>: character. Name of the axis or axes to be reversed (any combination of “x”, “y”, “z”).</li>
<li><strong>reverse.square.names</strong>: character. Name of the axis or axes for which to reverse the order of the square labels (any combination of “x”, “y”, “z”).</li>
<li><strong>add.x.square.labels</strong>: character. Additional square labels for the “x” axis.</li>
<li><strong>add.y.square.labels</strong>: character. Additional square labels for the “y” axis.</li>
</ul>
</div>
<div id="parameter-presetting" class="section level3">
<h3>Parameter presetting</h3>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="kw">archeoViz</span>(<span class="dt">class.variable =</span> <span class="ot">NULL</span>, <span class="dt">class.values =</span> <span class="ot">NULL</span>,</a>
<a class="sourceLine" id="cb10-2" data-line-number="2">          <span class="dt">default.group =</span> <span class="st">&quot;by.layer&quot;</span>, <span class="dt">location.mode =</span> <span class="ot">NULL</span>,</a>
<a class="sourceLine" id="cb10-3" data-line-number="3">          <span class="dt">map.z.val =</span> <span class="ot">NULL</span>, <span class="dt">map.density =</span> <span class="st">&quot;no&quot;</span>, <span class="dt">map.refits =</span> <span class="ot">NULL</span>,</a>
<a class="sourceLine" id="cb10-4" data-line-number="4">          <span class="dt">plot3d.hulls =</span> <span class="ot">NULL</span>, <span class="dt">plot3d.surfaces =</span> <span class="ot">NULL</span>, <span class="dt">plot3d.refits =</span> <span class="ot">NULL</span>,</a>
<a class="sourceLine" id="cb10-5" data-line-number="5">          <span class="dt">sectionX.x.val =</span> <span class="ot">NULL</span>, <span class="dt">sectionX.y.val =</span> <span class="ot">NULL</span>, <span class="dt">sectionX.refits =</span> <span class="ot">NULL</span>, </a>
<a class="sourceLine" id="cb10-6" data-line-number="6">          <span class="dt">sectionY.x.val =</span> <span class="ot">NULL</span>, <span class="dt">sectionY.y.val =</span> <span class="ot">NULL</span>, <span class="dt">sectionY.refits =</span> <span class="ot">NULL</span>,</a>
<a class="sourceLine" id="cb10-7" data-line-number="7">          <span class="dt">camera.center =</span> <span class="ot">NULL</span>, <span class="dt">camera.eye =</span> <span class="ot">NULL</span></a>
<a class="sourceLine" id="cb10-8" data-line-number="8">          )</a></code></pre></div>
<ul>
<li><strong>class.variable</strong>: character. At the launch of the app, name of the variable to preselect.</li>
<li><strong>class.values</strong>: character vector. At the launch of the app, names of the values to preselect.</li>
<li><strong>default.group</strong>: character. At the launch of the app, preset of the variable used to group data (one of “by.layer” or “by.variable”).</li>
<li><strong>location.mode</strong>: character. At the launch of the app, preset of the location methods (any combination of “exact”, “fuzzy”, “show.uncertainty”).</li>
<li><strong>map.z.val</strong>: numerical. Minimal and maximal Z coordinates values to display in the map plot.</li>
<li><strong>map.density</strong>: character. At the launch of the app, whether to compute and show density contours in the map plot (one of “no”, “overall”, “by.variable”).</li>
<li><strong>map.refits</strong>: TRUE or FALSE. Whether to show refits in the map plot.</li>
<li><strong>plot3d.hulls</strong>: TRUE or FALSE. At the launch of the app, whether to compute and show convex hulls in the 3D plot.</li>
<li><strong>hulls.class.values</strong>: character. At the launch of the app, names of the points subsets for which to compute convex hulls.</li>
<li><strong>plot3d.surfaces</strong>: TRUE or FALSE. At the launch of the app, whether to compute and show regression in the 3D plot.</li>
<li><strong>plot3d.refits</strong>: TRUE or FALSE. At the launch of the app, whether to show refits on the 3D section plot.</li>
<li><strong>point.size</strong>: integer. At the launch of the app, size of the points in the plots.</li>
<li><strong>sectionX.x.val</strong>: numerical. At the launch of the app, minimal and maximal X coordinates values to display in the X section plot.</li>
<li><strong>sectionX.y.val</strong>: numerical. At the launch of the app, minimal and maximal Y coordinates values to display in the X section plot.</li>
<li><strong>sectionX.refits</strong>: TRUE or FALSE. At the launch of the app, whether to show refits in the X section plot.</li>
<li><strong>sectionY.x.val</strong>: numerical. At the launch of the app, minimal and maximal X coordinates values to display in the Y section plot.</li>
<li><strong>sectionY.y.val</strong>: numerical. At the launch of the app, minimal and maximal Y coordinates values to display in the Y section plot.</li>
<li><strong>sectionY.refits</strong>: TRUE or FALSE. At the launch of the app, whether to show refits in the Y section plot.</li>
<li><strong>camera.center</strong>: numerical. In 3D plot, coordinates of the point to which the camera looks at (default values: x=0, y=0, z=0).</li>
<li><strong>camera.eye</strong>: numerical. In 3D plot, coordinates of the camera’s position (default values: x=1.25, y=1.25, z=1.25).</li>
</ul>
</div>
<div id="reactive-plot-display" class="section level3">
<h3>Reactive plot display</h3>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="kw">archeoViz</span>(<span class="dt">run.plots =</span> <span class="ot">FALSE</span>)</a></code></pre></div>
<ul>
<li><strong>run.plots</strong>: TRUE or FALSE. Whether to immediately compute and show plots (without requiring the user to click on the “Refresh” button).</li>
</ul>
</div>
<div id="control-export-formats" class="section level3">
<h3>Control Export Formats</h3>
<ul>
<li><strong>html.export</strong> : TRUE or FALSE. Whether or not to allow figures to be exported as interactive HTML widgets.</li>
<li><strong>table.export</strong>: TRUE or FALSE. Allow or disallow data transfer to <a href="#exports-from-and-to-third-party-applications">third-party applications</a> in the “Statistics” tab.</li>
</ul>
</div>
<div id="url-parameters" class="section level3">
<h3>URL parameters</h3>
<p>An instance of <code>archeoViz</code> deployed online on a server can be set with URL parameters. Supported parameters include:</p>
<ul>
<li><code>objects.df</code>, <code>refits.df</code>, <code>timeline.df</code></li>
<li><code>title</code>, <code>home.text</code></li>
<li><code>reverse.axis.values</code>, <code>reverse.square.names</code></li>
<li><code>square.size</code></li>
<li><code>add.x.square.labels</code>, <code>add.y.square.labels</code></li>
<li><code>class.variable</code>, <code>class.values</code></li>
<li><code>default.group</code></li>
<li><code>location.mode</code></li>
<li><code>map.density</code>, <code>map.refits</code></li>
<li><code>plot3d.hulls</code>, <code>plot3d.surfaces</code>, <code>plot3d.refits</code></li>
<li><code>sectionX.refits</code></li>
<li><code>sectionY.refits</code></li>
<li><code>run.plots</code></li>
</ul>
<p>(The following parameters are not supported in the current version: <code>map.z.val</code>, <code>sectionX.x.val</code>, <code>point.size</code>, <code>sectionX.y.val</code>, <code>sectionY.x.val</code>, <code>sectionY.y.val</code>, <code>lang</code>, <code>set.theme</code>, <code>camera.center</code>, <code>camera.eye</code>, <code>html.export</code>, <code>table.export</code>.)</p>
<p>The parameters must be written using the URL syntax (?param1=value&amp;param2=value2) and have the same type of values than when used in the R interface. For example, the following URL launches an <code>archeoViz</code> instance using the <a href="https://zenodo.org/record/8003880">Bilzingsleben</a> dataset:</p>
<p><a href="https://analytics.huma-num.fr/archeoviz/en/?objects.df=https://zenodo.org/record/8003880/files/bilzingsleben.csv" class="uri">https://analytics.huma-num.fr/archeoviz/en/?objects.df=https://zenodo.org/record/8003880/files/bilzingsleben.csv</a></p>
<p>This URL does the same, but also includes the refitting table (parameter <code>&amp;refits.df=</code>) and set the activate the display of the refitting relationships in the 3D and map plots:</p>
<p><a href="https://analytics.huma-num.fr/archeoviz/en/?map.refits=TRUE&amp;plot3d.refits=TRUE&amp;objects.df=https://zenodo.org/record/8003880/files/bilzingsleben.csv&amp;refits.df=https://zenodo.org/record/8003880/files/bilzingsleben-antlers-refits.csv" class="uri">https://analytics.huma-num.fr/archeoviz/en/?map.refits=TRUE&amp;plot3d.refits=TRUE&amp;objects.df=https://zenodo.org/record/8003880/files/bilzingsleben.csv&amp;refits.df=https://zenodo.org/record/8003880/files/bilzingsleben-antlers-refits.csv</a></p>
<p>The following URL launches the Bilzingsleben dataset, pre-setting the app to:</p>
<ol style="list-style-type: decimal">
<li>groups the points by variable (parameter <code>default.group</code>, with walue <code>by.variable</code> instead of <code>by.layer</code>)</li>
<li>selects only the “Antlers” (parameter <code>class.values</code>)</li>
<li>redefines the size of the square grid (parameter <code>square.size</code>, 500 cm instead of the 100 cm default value)</li>
<li>enable the immediate display of the plots (parameter <code>run.plots</code>)</li>
<li>modifies the title of the page (parameter <code>title</code>)</li>
<li>modifies the content of the home page with basic html contents (parameter <code>home.txt</code>)</li>
</ol>
<p><a href="https://analytics.huma-num.fr/archeoviz/en/?default.group=by.variable&amp;class.values=Antler&amp;square.size=500&amp;run.plots=TRUE&amp;title=Anters%20at%20Bilzingsleben&amp;home.text=Many%20%3Cb%3Eantlers%3C/b%3E&amp;objects.df=https://zenodo.org/record/8003880/files/bilzingsleben.csv">https://analytics.huma-num.fr/archeoviz/en/?default.group=by.variable&amp;class.values=Antler&amp;square.size=500&amp;run.plots=TRUE&amp;title=Antlers%20at%20Bilzingsleben&amp;home.text=Many%20<b>antlers</b>&amp;objects.df=https://zenodo.org/record/8003880/files/bilzingsleben.csv</a></p>
<p>Note that the parameters <code>add.x.square.labels</code>, <code>add.y.square.labels</code>, <code>location.mode</code>, and <code>class.values</code>, which accept simple or multiple values in the R interface (e.g., c(“value1”, “value2”)) only accept one value when set as URL parameters (this is a restriction due to the URL syntax).</p>
</div>
</div>
</div>
<div id="acknowledgments" class="section level1">
<h1>Acknowledgments</h1>
<p>The <code>archeoViz</code> application and package is developed and maintained by Sébastien Plutniak. Arthur Coulon, Solène Denis, Olivier Marlet, and Thomas Perrin tested and supported the project in its early stage. Renata Araujo, Laura Coltofean, Sara Giardino, Julian Laabs, and Nicolas Delsol translated the application into Portuguese, Romanian, Italian, German, and Spanish respectively.</p>
</div>
<div id="references" class="section level1">
<h1>References</h1>
<div id="software" class="section level2">
<h2>Software</h2>
<ul>
<li>Plutniak, Sébastien, Renata Araujo, Laura Coltofean, Nicolas Delsol, Sara Giardino, Julian Laabs. 2024. “archeoViz. Visualisation, Exploration, and Web Communication of Archaeological Spatial Data”. v1.3.4, DOI: <a href="https://doi.org/10.5281/zenodo.7460193">10.5281/zenodo.7460193</a>.</li>
<li>Plutniak, Sébastien, Anaïs Vignoles. 2023. “<a href="https://hal.science/hal-04156271">The archeoViz Portal: Dissemination of Spatial Archaeological Datasets</a>”, web portal, <a href="https://analytics.huma-num.fr/archeoviz/home" class="uri">https://analytics.huma-num.fr/archeoviz/home</a>.</li>
</ul>
</div>
<div id="papers" class="section level2">
<h2>Papers</h2>
<ul>
<li>Plutniak, Sébastien. 2023. “archeoViz: an R package for the Visualisation, Exploration, and Web Communication of Archaeological Spatial Data”. <em>Journal of Open Source Software</em>, 92(8), 5811, DOI: <a href="https://doi.org/10.21105/joss.05811">10.21105/joss.05811</a>.</li>
<li>Plutniak, Sébastien. 2023. “<a href="https://www.prehistoire.org/offres/doc_inline_src/515/0-BSPF_2023_1_2e_partie_Correspondance_PLUTNIAK.pdf">Visualiser et explorer la distribution spatiale du mobilier archéologique : l’application archeoViz et son portail web</a>”. <em>Bulletin de la Société préhistorique française</em>, 120(1), p. 70-74.</li>
</ul>
</div>
<div id="presentations" class="section level2">
<h2>Presentations</h2>
<ul>
<li>Plutniak, Sébastien. 2023. “<a href="https://hal.science/hal-04146410">Fostering the Publication of Spatial Archaeological Data: a Decentralized Approach. The archeoViz Web Application and its Portal</a>”, slides of a presentation at the University of Florida, Gainesville.</li>
<li>Plutniak, Sébastien, Anaïs Vignoles. 2023. “<a href="https://hal.science/hal-04070444">L’application web / package archeoViz et son portail web. Une solution décentralisée d’éditorialisation de données archéologiques spatialisées</a>, slides of a presentation at the SITRADA workshop, Paris.</li>
</ul>
</div>
<div id="websites" class="section level2">
<h2>Websites</h2>
<ul>
<li>The <em>archeoViz. Data visualization in archaeology. Re-use, visualization, dissemination of spatial data</em> blog: <a href="https://archeoviz.hypotheses.org" class="uri">https://archeoviz.hypotheses.org</a></li>
</ul>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
