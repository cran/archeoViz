<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>Vignette archeoViz (fr)</title>


<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Vignette archeoViz (fr)</h1>



<p><code>archeoViz</code> est une application dédiée à l’archéologie. Elle permet de <em>visualiser</em>, d’<em>explorer</em> interactivement, et d’exposer et <em>communiquer</em> rapidement sur le web des données archéologiques de terrain. Elle propose des <em>visualisations</em> en 3D et 2D, génère des <em>coupes</em> et des <em>cartes</em> des restes archéologiques, permet de réaliser des <em>statistiques spatiales</em> simples (enveloppes convexes, surfaces de régression, estimation de densité par noyau en 2D), et de visualiser une <em>chronologie</em> interactive des fouilles d’un site. <code>archeoViz</code> peut être utilisée localement ou déployée sur un serveur, soit en chargeant des données via l’interface, soit en lançant l’application avec un jeu de donnée spécifique. L’interface est disponible en anglais, français, italien, et portugais.</p>
<ul>
<li><a href="#installation"><strong>Installation</strong></a>
<ul>
<li><a href="#locale">Locale</a></li>
<li><a href="#déployée">Déployée</a></li>
<li><a href="#démonstration">Démonstration</a></li>
</ul></li>
<li><a href="#recommandations-communautaires"><strong>Recommandations communautaires</strong></a>
<ul>
<li><a href="#signaler-un-bug">Signaler un bug</a></li>
<li><a href="#soumettre-une-modification">Soumettre une modification</a></li>
</ul></li>
<li><a href="#utilisation"><strong>Utilisation</strong></a>
<ul>
<li><a href="#données">Données</a>
<ul>
<li><a href="#par-chargement-de-tableaux">Par chargement de tableaux</a></li>
<li><a href="#par-génération-de-données-aléatoires">Par génération de données aléatoires</a></li>
<li><a href="#par-paramétrage-de-la-fonction">Par paramétrage de la fonction</a></li>
</ul></li>
<li><a href="#sous-sélection-de-données">Sous-sélection de données</a>
<ul>
<li><a href="#par-mode-de-localisation">Par mode de localisation</a></li>
<li><a href="#par-catégorie-dobjet">Par catégorie d’objet</a></li>
<li><a href="#sous-groupes-de-données">Sous-groupes de données</a></li>
<li><a href="#par-objet">Par objet</a></li>
</ul></li>
<li><a href="#remontages">Remontages</a></li>
<li><a href="#visualisations-interactives">Visualisations interactives</a></li>
<li><a href="#sorties-graphiques">Sorties graphiques</a></li>
<li><a href="#statistiques-spatiales">Statistiques spatiales</a>
<ul>
<li><a href="#surfaces-de-régression">Surfaces de régression</a></li>
<li><a href="#enveloppes-convexes">Enveloppes convexes</a></li>
<li><a href="#estimation-2d-de-densité-par-noyau">Estimation 2D de densité par noyau</a></li>
</ul></li>
</ul></li>
<li><a href="#reproductibilité"><strong>Reproductibilité</strong></a><br />
</li>
<li><a href="#paramètres-avancés"><strong>Paramètres avancés</strong></a>
<ul>
<li><a href="#carroyage">Carroyage</a></li>
<li><a href="#pré-sélection-des-paramètres">Pré-sélection des paramètres</a></li>
<li><a href="#affichage-réactif-des-visualisations">Affichage réactif des visualisations</a></li>
</ul></li>
<li><a href="#remerciements"><strong>Remerciements</strong></a></li>
<li><a href="#références"><strong>Références</strong></a></li>
</ul>
<div id="installation" class="section level1">
<h1>Installation</h1>
<p><code>archeoViz</code> peut être employée de deux manières:</p>
<ul>
<li>localement, sur la machine de l’utilisateur</li>
<li>à distance, après déploiement sur un serveur distant</li>
</ul>
<div id="locale" class="section level2">
<h2>Locale</h2>
<p>Le package peut être installé depuis le CRAN:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">install.packages</span>(<span class="st">&quot;archeoViz&quot;</span>)</a></code></pre></div>
<p>La version de développement peut être télécharée depuis GitHub:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="co"># install.packages(&quot;devtools&quot;)</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2">devtools<span class="op">::</span><span class="kw">install_github</span>(<span class="st">&quot;sebastien-plutniak/archeoviz&quot;</span>)</a></code></pre></div>
<p>Après quoi, chargez le package et lancez l’application avec:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw">library</span>(archeoViz)</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="kw">archeoViz</span>()</a></code></pre></div>
</div>
<div id="déployée" class="section level2">
<h2>Déployée</h2>
<p>Pour déployer <code>archeoViz</code> sur votre Shiny server, téléchargez premièrement le package:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="co"># déterminez le répertoire de travail dans votre shiny server:</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="kw">setwd</span>(<span class="dt">dir =</span> <span class="st">&quot;/some/path/&quot;</span>)</a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="co"># téléchargez le package:</span></a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="kw">download.file</span>(<span class="dt">url =</span> <span class="st">&quot;https://github.com/sebastien-plutniak/archeoviz/archive/master.zip&quot;</span>,</a>
<a class="sourceLine" id="cb4-5" data-line-number="5">              <span class="dt">destfile =</span> <span class="st">&quot;archeoviz.zip&quot;</span>)</a>
<a class="sourceLine" id="cb4-6" data-line-number="6"><span class="co"># décompression:</span></a>
<a class="sourceLine" id="cb4-7" data-line-number="7"><span class="kw">unzip</span>(<span class="dt">zipfile =</span> <span class="st">&quot;archeoviz.zip&quot;</span>)</a></code></pre></div>
<p>Puis, rendez-vous à <code>https://&lt;your-shiny-server&gt;/archeoviz-main</code>.</p>
<p>Pour paramétrer l’application avec vos données et préférences, éditez le fichier app.R situé à la racine du répertoire de l’application:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw">archeoViz</span>(<span class="dt">objects.df =</span> <span class="ot">NULL</span>,   <span class="co"># data.frame pour les objets</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2">          <span class="dt">refits.df =</span> <span class="ot">NULL</span>,    <span class="co"># data.frame optionnel pour les remontages</span></a>
<a class="sourceLine" id="cb5-3" data-line-number="3">          <span class="dt">timeline.df =</span> <span class="ot">NULL</span>,  <span class="co"># data.frame optionnel pour la chronologie des fouilles</span></a>
<a class="sourceLine" id="cb5-4" data-line-number="4">          <span class="dt">default.group =</span><span class="ot">NULL</span>, <span class="co"># méthode de groupement des données,</span></a>
<a class="sourceLine" id="cb5-5" data-line-number="5">                               <span class="co"># par couche (&quot;by.layer&quot;) ou &quot;by.variable&quot;</span></a>
<a class="sourceLine" id="cb5-6" data-line-number="6">          <span class="dt">title =</span> <span class="ot">NULL</span>,        <span class="co"># titre du site / du jeu de données</span></a>
<a class="sourceLine" id="cb5-7" data-line-number="7">          <span class="dt">home.text =</span> <span class="ot">NULL</span>,    <span class="co"># contenu html à afficher sur la page d'accueil</span></a>
<a class="sourceLine" id="cb5-8" data-line-number="8">          <span class="dt">lang =</span> <span class="st">&quot;fr&quot;</span>          <span class="co"># langue de l'interface (&quot;en&quot;: Anglais, &quot;fr&quot;: Français, &quot;it&quot;: Italien &quot;pt&quot;: Portugais)</span></a>
<a class="sourceLine" id="cb5-9" data-line-number="9">          <span class="dt">set.theme =</span> <span class="st">&quot;cosmo&quot;</span>) <span class="co"># thème graphique de l'interface Shiny</span></a></code></pre></div>
<p>Les valeurs possibles pour le paramètre <code>set.theme</code> sont illustrées sur <a href="https://rstudio.github.io/shinythemes/">cette page</a>. La langue de l’application peut être définie avec le paramètre <code>lang</code>.</p>
</div>
<div id="démonstration" class="section level2">
<h2>Démonstration</h2>
<p>Des instances de démonstration de l’application sont déployées sur le Shiny server d’<em>Huma Num</em>:</p>
<ul>
<li><a href="https://analytics.huma-num.fr/archeoviz/fr"><code>archeoViz</code> en français</a>.</li>
<li><a href="https://analytics.huma-num.fr/archeoviz/en"><code>archeoViz</code> en anglais</a>.</li>
<li><a href="https://analytics.huma-num.fr/archeoviz/it"><code>archeoViz</code> en italien</a>.</li>
<li><a href="https://analytics.huma-num.fr/archeoviz/pt"><code>archeoViz</code> en portugais</a>.</li>
</ul>
<p>Des cas d’applications à divers sites archéologiques sont rassemblés sur le <a href="https://analytics.huma-num.fr/archeoviz/home"><em>Portail archeoViz</em></a>.</p>
</div>
</div>
<div id="recommandations-communautaires" class="section level1">
<h1>Recommandations communautaires</h1>
<div id="signaler-un-bug" class="section level2">
<h2>Signaler un bug</h2>
<p>Si vous rencontrez un bug, ouvrez une <a href="https://github.com/sebastien-plutniak/archeoviz/issues"><em>issue</em></a> en indiquant tous les détails nécessaires pour le reproduire.</p>
</div>
<div id="suggérer-un-changement" class="section level2">
<h2>Suggérer un changement</h2>
<p>Les suggestions de modifications sont bienvenues. Les demandes peuvent concerner des fonctions additionnelles, des modifications dans la documentation, des exemples additionnels, de nouvelles fonctionnalités, etc. Elles peuvent être faite en ouvrant une <a href="https://github.com/sebastien-plutniak/archeoviz/issues">issue</a> ou, mieux encore, en employant une <em>pull requests</em> et le modèle GitHub <a href="https://docs.github.com/articles/about-pull-requests">Fork and Pull</a>.</p>
</div>
</div>
<div id="utilisation" class="section level1">
<h1>Utilisation</h1>
<p>Considérant les restes archéologiques d’un site donné, <code>archeoViz</code> est conçu pour réduire les freins techniques à la réalisation de trois objectifs:</p>
<ul>
<li>l’exploration spatiale basique et la production de documents graphiques analytiques;</li>
<li>la pré-publication rapide de données archéologiques, à destination de la communauté scientifique;</li>
<li>le déploiement aisé d’un outil d’exposition et de communication, à destination d’un plus large public.</li>
</ul>
<p>N.B.: par conséquent, <code>archeoViz</code> n’est pas destiné à se substituer à des outils d’analyse plus sophistiqués (e.g., SIG, packages statistiques, etc.)</p>
<div id="données" class="section level2">
<h2>Données</h2>
<p>Il existe trois manières d’introduire des données dans <code>archeoViz</code>:</p>
<ol style="list-style-type: decimal">
<li>en chargeant des tableaux à partir de l’onglet “Données”,</li>
<li>en employant le générateur de données aléatoire dans l’onglet “Données”;</li>
<li>en paramétrant la fonction <code>archeoViz</code> avant de lancer l’application.</li>
</ol>
<div id="par-chargement-de-tableaux" class="section level3">
<h3>Par chargement de tableaux</h3>
<p>Des tableaux pour trois types de données peuvent être chargés à partir de l’onglet “Données”:</p>
<ul>
<li>un tableau “objects” (requis), à propos des objets;</li>
<li>un tableau “refits” (optionnel), à propos des relations de remontage;</li>
<li>un tableau “timeline” (optionnel), à propos des carrés du site et des années où ils ont été fouillés.</li>
</ul>
<p>Les tableaux doivent être au format .csv et la première ligne doit contenir les noms des variables (le symbole séparateur du csv peut être défini dans l’interface). Plus de détails à propos des formats et des colonnes sont donnés dans l’onglet “Données”.</p>
</div>
<div id="par-génération-de-données-aléatoires" class="section level3">
<h3>Par génération de données aléatoires</h3>
<p>À des fins de démonstration, il est possible d’employer des données aléatoirement générées. Déplacer le curseur sur une valeur supérieure à 0, dans l’onglet “Données”, active cette fonctionnalité (replacer le curseur sur 0 la désactive). Des données d’objets, de remontage, et de chronologie de la fouille sont alors générés, permettant de tester toutes les fonctionnalités d’<code>archeoViz</code>.</p>
</div>
<div id="par-paramétrage-de-la-fonction" class="section level3">
<h3>Par paramétrage de la fonction</h3>
<p>La fonction de lancement d’<code>archeoViz()</code> peut être exécutée sans définir de paramètres:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw">archeoViz</span>()</a></code></pre></div>
<p>ou en employant les paramètres <code>objects.df</code>, <code>refits.df</code>, <code>timeline.df</code> afin de charger des données relatives, respectivement, aux objets, aux remontages, et à la chronologie.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="kw">archeoViz</span>(<span class="dt">objects.df =</span> <span class="ot">NULL</span>,  <span class="co"># data.frame pour les objets</span></a>
<a class="sourceLine" id="cb7-2" data-line-number="2">          <span class="dt">refits.df =</span> <span class="ot">NULL</span>,   <span class="co"># data.frame optionnel pour les remontages</span></a>
<a class="sourceLine" id="cb7-3" data-line-number="3">          <span class="dt">timeline.df =</span> <span class="ot">NULL</span>) <span class="co"># data.frame optionnel pour la chronologie</span></a></code></pre></div>
</div>
</div>
<div id="sous-sélection-de-données" class="section level2">
<h2>Sous-sélection de données</h2>
<p>Après que les données soient chargées, des sous-sélection peuvent être réalisées en employant les options du menu gauche de l’interface. Plusieurs paramètres sont possibles: le mode de localisation, les catégories des objets, et la définition de sous-groupes de données.</p>
<div id="par-mode-de-localisation" class="section level3">
<h3>Par mode de localisation</h3>
<p>La localisation des objets archéologiques peut avoir été enregistrée de différentes manières, plus ou moins précises: comme des points (coordonnées xyz), sur des lignes, des plans, ou au sein de volumes (intervalles de valeurs x, y et/ou z). Dans <code>archeoViz</code>, une distinction est faite entre les localisations exactes (les points) et les autres types de localisations vagues (lignes, plans, volumes). Les boutons permettent de sélectionner le sous-ensemble de données correspondant à l’un, l’autre, ou les deux modes de localisation.</p>
</div>
<div id="par-catégorie-dobjet" class="section level3">
<h3>Par catégorie d’objet</h3>
<p>Des sous-ensembles de données peuvent être définis à partir des catégories des objets, en employant les champs “Variable” et “Valeurs”. Après que l’une des variables ait été sélectionnée (“object_type” ou une autre “object_” variable possible), ses valeurs apparaissent en dessous et peuvent être sélectionnées en cochant les items. La sélection doit être validée en cliquant sur le bouton “Valider”. Cette sélection détermine les données qui seront présentées dans les graphiques et tableaux.</p>
</div>
<div id="sous-groupes-de-données" class="section level3">
<h3>Sous-groupes de données</h3>
<p>Il est, de plus, possible de préciser si les couleurs doivent être définies en fonction des couches ou en fonction de la variable objet sélectionnée.</p>
<p>Des sous-groupes de données peuvent être définies de deux manières: soit par couche ou en fonction de la variable “object_” sélectionnée. Cette option détermine l’application des couleurs dans les graphiques 3D et 2D et les sous-groupes de données auxquels sont appliqués les calculs de surface de régression et d’enveloppes convexes.</p>
</div>
<div id="par-objet" class="section level3">
<h3>Par objet</h3>
<p>Enfin, dans l’onglet “Vue 3D”, cliquer sur un point active l’affichage d’information à son sujet dans le tableau présent sous la visualisation.</p>
</div>
</div>
<div id="remontages" class="section level2">
<h2>Remontages</h2>
<p>Les remontages sont généralement enregistrés de deux manières par les archéologues:</p>
<ol style="list-style-type: decimal">
<li>par ensemble d’objets remontant entre eux: en employant alors un tableau à deux colonnes où une ligne correspond à un <strong>objet</strong>. La première colonne contient l’identifiant unique de l’objet et la deuxième colonne contient l’identifiant unique de l’ensemble d’objets remontant entre eux auquel l’objet considéré appartient.</li>
<li>par relation de remontage: en employant alors un tableau à deux colonnes où une ligne correspond à une <strong>relation de remontage</strong>. La première colonne contient l’identifiant unique du premier objet et la deuxième colonne contient l’identifiant unique du deuxième objet.</li>
</ol>
<p>Bien que la seconde structure de donnée soit plus précise, c’est la première qui est le plus fréquemment employée.</p>
<p>Ces deux structures de données sont traitées différement dans <code>archeoViz</code>:</p>
<ul>
<li>les ensembles d’objets remontant entre eux doivent être décrits dans une colonne spécifique dans le tableau <code>objects.df</code> table (nommée par ex. <code>object_refits</code>) et sont représentés par la couleur des points dans les visualisations (comme pour tout autre variable);</li>
<li>les relations de remontage doivent être décrits dans un tableau <code>refits.df</code> et sont visualisés par des segments reliant les objets liés par des relations de remontage.</li>
</ul>
</div>
<div id="visualisations-interactives" class="section level2">
<h2>Visualisations interactives</h2>
<p>Les visualisations dans les onglets “Vue 3D”, “Carte”, “Section X” et “Section Y” sont générées à l’aide de la librairie <a href="https://CRAN.R-project.org/package=plotly/"><code>plotly</code></a>. Toutes ces visualisations sont dynamiques et sont surmontées d’une barre de menu comportant plusieurs options (générer un fichier image, zoomer, déplacer le point de vue, etc.). Davantage de détails sont disponibles sur le <a href="http://plotly.github.io/getting-to-know-the-plotly-modebar/">site de <code>plotly</code></a>.</p>
<p>Cliquer sur un item de la légende modifie l’affichage:</p>
<ul>
<li>un simple clic sur un item active/désactive son affichage;</li>
<li>un double clic sur un item limite l’affichage à cet item seul (un autre double clic annule cette sélection).</li>
</ul>
<p>Cette fonctionnalité permet de définir les couches devant être affichées. De plus, la taille des points peut être ajustée, ainsi que l’affichage ou non des relations de remontage.</p>
</div>
<div id="sorties-graphiques" class="section level2">
<h2>Sorties graphiques</h2>
<p>Plusieurs sorties graphiques peuvent être générées dans <code>archeoViz</code>.</p>
<ul>
<li>Les visualisations en 3D, en plan et en sections comportent une fonction d’export graphique en format .svg (accessible en cliquant sur l’icône “appareil photo” de la barre de menu s’affichant au dessus des visualisations).</li>
<li>La visualisation 3D peut être exportée en format html interactif en cliquant sur le bouton “Télécharger”.</li>
<li>Le plan de la chronologie des fouilles peut être téléchargé au format .svg en cliquant sur le bouton “Télécharger”.</li>
</ul>
</div>
<div id="statistiques-spatiales" class="section level2">
<h2>Statistiques spatiales</h2>
<p><code>archeoViz</code> comporte quelques fonctionnalités d’analyse spatiale, destinées à usage simple et exploratoire.</p>
<div id="surfaces-de-régression" class="section level3">
<h3>Surfaces de régression</h3>
<p>Dans l’onglet “Vue 3D”, cliquer sur “Calculer les surfaces” puis “Valider” affiche les surfaces de régression associées à chaque sous-ensemble de points (couche), comportant au moins 100 points. Les surfaces sont calculées grâce au modèle additif généralisé implémenté dans le package <a href="https://CRAN.R-project.org/package=mgcv"><code>mgcv</code></a>.</p>
</div>
<div id="enveloppes-convexes" class="section level3">
<h3>Enveloppes convexes</h3>
<p>Cliquer sur “Calculer les enveloppes” puis “Valider”, dans l’onglet “Vue 3D”, affiche les enveloppes convexes associées à chaque sous-ensemble de points (couches), comportant au moins 20 points. Les enveloppes sont calculées en employant le package <a href="https://CRAN.R-project.org/package=cxhull"><code>cxhull</code></a>.</p>
</div>
<div id="estimation-2d-de-densité-par-noyau" class="section level3">
<h3>Estimation 2D de densité par noyau</h3>
<p>Dans l’onglet “Plan”, cocher la case “Calculer la densité” et cliquer sur “Valider” génère un plan comportant des lignes de contour représentant la densité des points. La densité peut être calculée pour l’ensemble des points ou par couche (comportant au moins 30 points). L’estimation bidimensionnelle de densité par noyau est calculée avec la fonction <code>kde2d</code> du package <a href="https://CRAN.R-project.org/package=MASS"><code>MASS</code></a> (à travers le package <a href="https://CRAN.R-project.org/package=ggplot2"><code>ggplot2</code></a>).</p>
</div>
</div>
<div id="reproductibilité" class="section level2">
<h2>Reproductibilité</h2>
<p><code>archeoViz</code> est, par définition, une application interactive. Toutefois, plusieurs fonctionnalités permettent de garantir la reproductibilité et la communicabilité à des tiers du résultat d’interactions avec l’application.</p>
<ul>
<li>La visualisation 3D est exportable dans un format interactif html <em>standalone</em>, tenant compte de la sélection de données effectuée par l’utilisateur.</li>
<li>Dans l’onglet “Reproductibilité”, une commande R est générée dynamiquement, tenant compte du paramétrage de l’application courant réalisé par l’utilisateur.</li>
</ul>
</div>
<div id="paramètres-avancés" class="section level2">
<h2>Paramètres avancés</h2>
<p>La fonction <code>archeoViz()</code> admet de nombreux paramètres optionnels, relatifs à:</p>
<ul>
<li>les données à charger (traité <a href="#par-paramétrage-de-la-fonction">ci-dessus</a>),</li>
<li>le contenu de la page d’accueil (traité <a href="#déployée">ci-dessus</a>),</li>
<li>le <a href="#carroyage">carroyage</a>,</li>
<li>le <a href="#pré-sélection-des-paramètres">pré-paramètrage</a> des paramètres pouvant être définis dans l’interface graphique,</li>
<li>le <a href="#affichage-réactif-des-visualisations">comportement réactif</a> de l’application à propos du calcul et de l’affichage des visualisations.</li>
</ul>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw">archeoViz</span>(<span class="dt">objects.df=</span><span class="ot">NULL</span>, <span class="dt">refits.df=</span><span class="ot">NULL</span>, <span class="dt">timeline.df=</span><span class="ot">NULL</span>,</a>
<a class="sourceLine" id="cb8-2" data-line-number="2">          <span class="dt">title=</span><span class="ot">NULL</span>, <span class="dt">home.text=</span><span class="ot">NULL</span>, <span class="dt">lang=</span><span class="st">&quot;en&quot;</span>, <span class="dt">set.theme=</span><span class="st">&quot;cosmo&quot;</span>,</a>
<a class="sourceLine" id="cb8-3" data-line-number="3">          <span class="dt">square.size =</span> <span class="dv">100</span>, <span class="dt">reverse.axis.values =</span> <span class="ot">NULL</span>, <span class="dt">reverse.square.names =</span> <span class="ot">NULL</span>,</a>
<a class="sourceLine" id="cb8-4" data-line-number="4">          <span class="dt">add.x.square.labels =</span> <span class="ot">NULL</span>, <span class="dt">add.y.square.labels =</span> <span class="ot">NULL</span>,</a>
<a class="sourceLine" id="cb8-5" data-line-number="5">          <span class="dt">class.variable =</span> <span class="ot">NULL</span>, <span class="dt">class.values =</span> <span class="ot">NULL</span>,</a>
<a class="sourceLine" id="cb8-6" data-line-number="6">          <span class="dt">default.group =</span> <span class="st">&quot;by.layer&quot;</span>, <span class="dt">location.mode =</span> <span class="ot">NULL</span>,</a>
<a class="sourceLine" id="cb8-7" data-line-number="7">          <span class="dt">map.z.val =</span> <span class="ot">NULL</span>, <span class="dt">map.density =</span> <span class="st">&quot;no&quot;</span>, <span class="dt">map.refits =</span> <span class="ot">NULL</span>,</a>
<a class="sourceLine" id="cb8-8" data-line-number="8">          <span class="dt">plot3d.hulls =</span> <span class="ot">NULL</span>, <span class="dt">plot3d.surfaces =</span> <span class="ot">NULL</span>, <span class="dt">plot3d.refits =</span> <span class="ot">NULL</span>,</a>
<a class="sourceLine" id="cb8-9" data-line-number="9">          <span class="dt">sectionX.x.val =</span> <span class="ot">NULL</span>, <span class="dt">sectionX.y.val =</span> <span class="ot">NULL</span>, <span class="dt">sectionX.refits =</span> <span class="ot">NULL</span>, </a>
<a class="sourceLine" id="cb8-10" data-line-number="10">          <span class="dt">sectionY.x.val =</span> <span class="ot">NULL</span>, <span class="dt">sectionY.y.val =</span> <span class="ot">NULL</span>, <span class="dt">sectionY.refits =</span> <span class="ot">NULL</span>,</a>
<a class="sourceLine" id="cb8-11" data-line-number="11">          <span class="dt">camera.center =</span> <span class="ot">NULL</span>, <span class="dt">camera.eye =</span> <span class="ot">NULL</span>, <span class="dt">run.plots =</span> <span class="ot">FALSE</span></a>
<a class="sourceLine" id="cb8-12" data-line-number="12">          )</a></code></pre></div>
<div id="carroyage" class="section level3">
<h3>Carroyage</h3>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="kw">archeoViz</span>(<span class="dt">square.size =</span> <span class="dv">100</span>,</a>
<a class="sourceLine" id="cb9-2" data-line-number="2">          <span class="dt">reverse.axis.values =</span> <span class="ot">NULL</span>, <span class="dt">reverse.square.names =</span> <span class="ot">NULL</span>,</a>
<a class="sourceLine" id="cb9-3" data-line-number="3">          <span class="dt">add.x.square.labels =</span> <span class="ot">NULL</span>, <span class="dt">add.y.square.labels =</span> <span class="ot">NULL</span></a>
<a class="sourceLine" id="cb9-4" data-line-number="4">          )</a></code></pre></div>
<ul>
<li><strong>square.size</strong> : numérique. Taille (longueur et largeur) en centimètre des carrés du carroyage. La valeur par défaut est 100 cm.</li>
<li><strong>reverse.axis.values</strong> : caractères. Nom de l’axe ou des axes à inverser (une combinaison de ‘x’, ‘y’, ‘z’).</li>
<li><strong>reverse.square.names</strong> : caractères. Nom de l’axe ou des axes pour lesquels inverser l’ordre des labels de carrés (une combinaison de ‘x’, ‘y’, ‘z’).</li>
<li><strong>add.x.square.labels</strong> : caractères. Labels de carrés additionnels pour l’axe ‘x’.</li>
<li><strong>add.y.square.labels</strong> : caractères. Labels de carrés additionnels pour l’axe ‘y’.</li>
</ul>
</div>
<div id="pré-sélection-des-paramètres" class="section level3">
<h3>Pré-sélection des paramètres</h3>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="kw">archeoViz</span>(<span class="dt">class.variable =</span> <span class="ot">NULL</span>, <span class="dt">class.values =</span> <span class="ot">NULL</span>,</a>
<a class="sourceLine" id="cb10-2" data-line-number="2">          <span class="dt">default.group =</span> <span class="st">&quot;by.layer&quot;</span>, <span class="dt">location.mode =</span> <span class="ot">NULL</span>,</a>
<a class="sourceLine" id="cb10-3" data-line-number="3">          <span class="dt">map.z.val =</span> <span class="ot">NULL</span>, <span class="dt">map.density =</span> <span class="st">&quot;no&quot;</span>, <span class="dt">map.refits =</span> <span class="ot">NULL</span>,</a>
<a class="sourceLine" id="cb10-4" data-line-number="4">          <span class="dt">plot3d.hulls =</span> <span class="ot">NULL</span>, <span class="dt">plot3d.surfaces =</span> <span class="ot">NULL</span>, <span class="dt">plot3d.refits =</span> <span class="ot">NULL</span>,</a>
<a class="sourceLine" id="cb10-5" data-line-number="5">          <span class="dt">sectionX.x.val =</span> <span class="ot">NULL</span>, <span class="dt">sectionX.y.val =</span> <span class="ot">NULL</span>, <span class="dt">sectionX.refits =</span> <span class="ot">NULL</span>, </a>
<a class="sourceLine" id="cb10-6" data-line-number="6">          <span class="dt">sectionY.x.val =</span> <span class="ot">NULL</span>, <span class="dt">sectionY.y.val =</span> <span class="ot">NULL</span>, <span class="dt">sectionY.refits =</span> <span class="ot">NULL</span>,</a>
<a class="sourceLine" id="cb10-7" data-line-number="7">          <span class="dt">camera.center =</span> <span class="ot">NULL</span>, <span class="dt">camera.eye =</span> <span class="ot">NULL</span></a>
<a class="sourceLine" id="cb10-8" data-line-number="8">          )</a></code></pre></div>
<ul>
<li><strong>class.variable</strong> : caractères. Au lancement de l’application, nom de la variable à pré-sélectionner.</li>
<li><strong>class.values</strong> : caractères. Au lancement de l’application, nom des valeurs à pré-sélectionner.</li>
<li><strong>default.group</strong> : caractères. Au lancement de l’application, pré-sélection de la variable à employer pour grouper les données (soit “by.layer” ou “by.variable”).</li>
<li><strong>location.mode</strong> : caractères. Au lancement de l’application, pré-sélection du ou des modes de localisation à afficher (soit “exact”, “fuzzy”, ou “exact.fuzzy”).</li>
<li><strong>map.z.val</strong> : numérique. Au lancement de l’application, valeurs minimale et maximale des coordonnées Z à présélectionner dans la visualisation en plan.</li>
<li><strong>map.density</strong> : caractères. Au lancement de l’application, calculer et afficher ou non les courbes de densité dans la visualisation en plan (soit “no”, “overall”, ou “by.variable”).</li>
<li><strong>map.refits</strong> : TRUE ou FALSE. Afficher ou non les remontages dans la visualisation en plan.</li>
<li><strong>plot3d.hulls</strong> : TRUE ou FALSE. Au lancement de l’application, calculer et afficher ou non les enveloppes convexes dans la visualisation 3D.</li>
<li><strong>plot3d.surfaces</strong> : TRUE ou FALSE. Au lancement de l’application, calculer et afficher ou non les surfaces de régression dans la visualisation 3D.</li>
<li><strong>plot3d.refits</strong> : TRUE ou FALSE. Au lancement de l’application, afficher ou non les remontages dans la visualisation 3D.</li>
<li><strong>sectionX.x.val</strong> : numérique. Au lancement de l’application, valeurs minimale et maximale des coordonnées X à présélectionner dans la visualisation en section X.</li>
<li><strong>sectionX.y.val</strong> : numérique. Au lancement de l’application, valeurs minimale et maximale des coordonnées Y à présélectionner dans la visualisation en section X.</li>
<li><strong>sectionX.refits</strong> : TRUE ou FALSE. Au lancement de l’application, afficher ou non les remontages dans la visualisation en section X.</li>
<li><strong>sectionY.x.val</strong> : numérique. Au lancement de l’application, valeurs minimale et maximale des coordonnées X à présélectionner dans la visualisation en section Y.</li>
<li><strong>sectionY.y.val</strong> : numérique. Au lancement de l’application, valeurs minimale et maximale des coordonnées Y à présélectionner dans la visualisation en section Y.</li>
<li><strong>sectionY.refits</strong> : TRUE ou FALSE. Au lancement de l’application, afficher ou non les remontages dans la visualisation en section Y.</li>
<li><strong>camera.center</strong> : numérique. Au lancement de l’application, coordonnées du point vers lequel la caméra est orientée dans la visualisation 3D (valeurs par défaut: x=0, y=0, z=0).</li>
<li><strong>camera.eye</strong> : numérique. Au lancement de l’application, coordonnées de la position de la caméra dans la visualisation 3D (valeurs par défaut: x=1.25, y=1.25, z=1.25).</li>
</ul>
</div>
<div id="affichage-réactif-des-visualisations" class="section level3">
<h3>Affichage réactif des visualisations</h3>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="kw">archeoViz</span>(<span class="dt">run.plots =</span> <span class="ot">FALSE</span>)</a></code></pre></div>
<ul>
<li><strong>run.plots</strong> : TRUE ou FALSE. Si les visualisations doivent, ou non, être immédiatement calculées et affichées (sans nécessiter un clic sur les boutons de l’interface).</li>
</ul>
</div>
</div>
</div>
<div id="remerciements" class="section level1">
<h1>Remerciements</h1>
<p>L’application et le package <code>archeoViz</code> sont développés et maintenus par Sébastien Plutniak. Arthur Coulon, Solène Denis, Olivier Marlet, et Thomas Perrin ont testé et soutenu ce projet durant ses premières étapes. Renata Araujo et Sara Giardino ont traduit l’application respectivement en portugais et en italien.</p>
</div>
<div id="références" class="section level1">
<h1>Références</h1>
<ul>
<li>Plutniak, Sébastien, Renata Araujo, Sara Giardino. 2023. “archeoViz. Visualisation, Exploration, and Web Communication of Archaeological Excavation Data”. v1.0.0, DOI: <a href="https://doi.org/10.5281/zenodo.7682227">10.5281/zenodo.7682227</a>.</li>
</ul>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
